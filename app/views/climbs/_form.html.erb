<div class="row">
  <div class="col-md-3 col-md-offset-4 content_border">
    <h1> New Climb Location </h1>
    <fieldset>
      <%= form_for @climb do |climb| %>
      <% if @climb.errors.any? %>
        <div id="error_explanation">
          <h2><%= pluralize(@climb.errors.count, "error") %> prohibited this climb from being saved:</h2>
          <ul>
            <% @climb.errors.full_messages.each do |message| %>
             <li><%= message %></li>
            <% end %>
          </ul>
        </div>
      <% end %>
      <div class="form-group">
        <label>Name</label>
        <div class="form-field">
          <%= climb.text_field :name, class: "form-field" %>
        </div>
      </div>
      <div class="form-group">
        <label>Image</label>
        <div class="form-field">
          <%= climb.text_field :image, class: "form-field" %>
        </div>
      </div>
      <div class="form-group">
        <label>Style</label>
        <div class="form-field">
          <%= climb.text_field :style, class: "form-field" %>
        </div>
      </div>
      <div class="form-group">
        <label>Rating</label>
        <div class="form-field">
          <%= climb.select("rating", options_for_select([['1', 1], ['2', 2], ['3', 3], ['4', 4], ['5', 5]])) %>
        </div>
      </div>
      <div class="form-group">
        <label>Gear</label>
        <div class="form-field">
          <%= climb.text_field :gear %>
        </div>
      </div>
      <div class="form-group">
        <label>Use your current location?</label>
        <%= climb.radio_button("geolocation", true) %>
        <label>Yes</label>
        <%= climb.radio_button("geolocation", false) %>
        <label>No</label>
      </div>
      <div class="form-group">
        <label>Latitude</label>
        <div class="form-field form-field">
          <%= climb.text_field :latitude, value: nil, id: "lat", class: "form-field" %>
        </div>
      </div>
      <div class="form-group">
        <label>Longitude</label>
        <div class="form-field">
          <%= climb.text_field :longitude, value: nil, id: "lng", class: "form-field" %>
        </div>
      </div>
      <div class="form-group">
        <label>Is this spot a gym?</label>
        <%= radio_button_tag('climb[gym?]', true) %>
        <label>Yes</label>
        <%= radio_button_tag('climb[gym?]', false) %>
        <label>No</label>
      </div>
      <%= climb.submit "Submit Location", :class => "btn btn-primary" %>
      <% end %>
    </fieldset>
  </div>
</div>
<script> function setPos(position){
$('#lat').val(position.coords.latitude)
$('#lng').val(position.coords.longitude)
};
navigator.geolocation.getCurrentPosition(setPos)
</script>
